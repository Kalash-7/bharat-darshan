<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Packages</title>
    <link rel="stylesheet" href="style.css">
</head>
<body id="pack">
    <div class="packagebox">
    <p class="para">Select your package duration</p><br>
    <label FOR="101">
        <input type="radio" value="2d3n" name="duration" id="101"> 2DAY & 3NIGHT
    </label><br>
    <label FOR="102">
        <input type="radio" value="4d3n" name="duration" id="102"> 4DAY & 3NIGHT
    </label><br>
    <label FOR="103">
        <input type="radio" value="4d5n" name="duration" id="103"> 4DAY & 5NIGHT
    </label><br>
    <label FOR="104">
        <input type="radio" value="5d4n" name="duration" id="104"> 5DAY & 4NIGHT
    </label><br>
    <p class="para">Select your city</p><br>
    <select name="city"  id="105" class="cityselect">
        <option value="lucknow">LUCKNOW</option>
        <option value="darjeeling">DARJEELING</option>
        <option value="delhi">DELHI</option>
        <option value="jaipur">JAIPUR</option>
        <option value="kolkata">KOLKATA</option>
        <option value="amritsar">AMRITSAR</option>
    </select><br><br>
    <p class="para">Enter the no. of persons</p>
    <input type="number" placeholder="No. of persons" ><br><br>
    <button id="applybtn">Apply</button>
    </div>
    <script>
        document.addEventListener(
            'DOMContentLoaded',() =>
            {
                const PAGE_MAP={
                    "lucknow":{
                        "5d4n":"tourlucknow.html"
                    },
                    "delhi":{
                        "5d4n":"tourdelhi.html"
                    },
                    "jaipur":{
                        "5d4n":"tourjaipur.html"
                    },
                    "amritsar":{
                        "5d4n":"touramritsar.html"
                    },
                    "kolkata":{
                        "5d4n":"tourkolkata.html"
                    },
                    "darjeeling":{
                        "5d4n":"tourdarjeeling.html"
                    }
                };
                const applyButton = document.getElementById("applybtn");
                applyButton.addEventListener('click',function(event){
                    event.preventDefault();
                    const selectedDurationElement= document.querySelector('input[name="duration"]:checked');
                    const citySelect= document.querySelector('select[name="city"]');
                    const personInput= document.querySelector('input[type="number"]');
                    const durationcode= selectedDurationElement ?
                    selectedDurationElement.value:null;
                    const city= citySelect?
                    citySelect.value: null;
                    const personvalue= personInput?
                    personInput.value.trim(): "";
                    const person= parseInt(personvalue);
                    if(!durationcode){
                        alert("Please select a package duration.");
                        return;
                    }
                    if(personvalue===""||isNaN(person)||person<1){
                        alert("Please enter a valid number of travelers (atleast 1).");
                        return;
                    }
                    const cityMap=PAGE_MAP[city];
             
                    const targetpage= cityMap?
                    cityMap[durationcode] : null;
                    if(!targetpage){
                        alert("not available");
                        return;
                    }
                    const params= new URLSearchParams();
                    params.append('duration',durationcode);
                    params.append('city',city);
                    params.append('person',person);
                    const finalURL = `${targetpage}?${params.toString()}`;
                    console.log("redirecting to:", finalURL);
                    window.location.href= finalURL;
                });
            }
        );
    </script>
</body>
</html>